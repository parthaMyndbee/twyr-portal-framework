define(
	'twyr-webapp/routes/pages-default',
	['exports', 'ember'],
	function(exports, _ember) {
		if(window.developmentMode) console.log('DEFINE: twyr-webapp/routes/pages-default');
		var ManagePageRoute = _ember['default'].Route.extend({
			'model': function() {
				return this.store.peekAll('pages-default');
			},

			'setupController': function(controller, model) {
				controller.set('model', model);
			},

			'actions': {
				'willTransition': function() {
					var dirtyPages = this.get('controller').get('model').filterBy('hasDirtyAttributes', true);

					if(dirtyPages.get('length'))
						return false;

					return true;
				}
			}
		});

		exports['default'] = ManagePageRoute;
	}
);
